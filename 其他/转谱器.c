/*
 *
 * ? main.cpp
 * ? ×ªÆ×Æ÷
 *
 * ? Created by ÕÅÅôÓî on 16/3/1.
 * ? Copyright ? 2016Äê ÕÅÅôÓî. All rights reserved.
 *
 */

#include <stdio.h>
char in[100000];
char out[100000];
int Innum, Outnum;
void low() {
  ? ? while (in[Innum] != EOF) {
    ? ? ? ? switch (in[Innum]) {
      ? ? ? ? ? ? case ' ' : out[Outnum] = ' ';
      ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? case '#' : out[Outnum] = '#';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case ')' : out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? return;
      ? ? ? ? ? ? case 'A' : out[Outnum] = '\n';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '1' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '2' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '3' : out[Outnum] = '2';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '4' : out[Outnum] = '2';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '5' : out[Outnum] = '3';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '6' : out[Outnum] = '3';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '7' : out[Outnum] = '4';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '8' : out[Outnum] = '4';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ?
    }
    ? ? ? ? Innum++;
    ? ?
  }
}

void high() {
  ? ? while (in[Innum] != EOF) {
    ? ? ? ? switch (in[Innum]) {
      ? ? ? ? ? ? case ' ' : out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? case '#' : out[Outnum] = '#';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case ']' : out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? return;
      ? ? ? ? ? ? case 'A' : out[Outnum] = '\n';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '1' : out[Outnum] = '9';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '2' : out[Outnum] = '9';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '3' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = '0';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '4' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = '0';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '5' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '6' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '7' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = '2';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '8' : out[Outnum] = '1';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = '2';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ?
    }
    ? ? ? ? Innum++;
    ? ?
  }
}

int main() {
  ? ? gets(in);

  ? ? Innum = 0;
  ? ? Outnum = 0;
  ? ? while (in[Innum] != 'X') {
    ? ? ? ? switch (in[Innum]) {
      ? ? ? ? ? ? case ' ' : out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? case '#' : out[Outnum] = '#';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '[' : Innum++;
      ? ? ? ? ? ? ? ? high();

      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '(' : Innum++;
      ? ? ? ? ? ? ? ? low();

      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case 'A' : out[Outnum] = '\n';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '1' : out[Outnum] = '5';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '2' : out[Outnum] = '5';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '3' : out[Outnum] = '6';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '4' : out[Outnum] = '6';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '5' : out[Outnum] = '7';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '6' : out[Outnum] = '7';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '7' : out[Outnum] = '8';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'B';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ? ? case '8' : out[Outnum] = '8';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = 'D';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? out[Outnum] = ' ';
      ? ? ? ? ? ? ? ? Outnum++;
      ? ? ? ? ? ? ? ? break;
      ? ? ? ? ?
    }
    ? ? ? ? Innum++;
  }
  ? ? for (int i = 0; i <= Outnum; i++) {
    ? ? ? ? ? ? printf("%c", out[i]);

    ? ? ? ?
  }
  ? ? return (0);
}
